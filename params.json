{"name":"Sitemap-generator","tagline":"sitemap-generator is a Rails plugin that makes it easy to generate sitemaps.","body":"Until we have time to improve this plugin, we recommend that you use this plugin:\r\n\"https://github.com/alexrabarts/big_sitemap\":https://github.com/alexrabarts/big_sitemap\r\n\r\nh1. Rails Sitemap Generator\r\n\r\nThe Rails Sitemap Generator plugin makes it very easy to generate sitemaps for your Rails app.\r\n\r\nIn addition to simplifying sitemap creation the plugin also includes the following features:\r\n\r\n* Sitemap validation. A sitemap can contain about 50 000 items and be no more than x MB.\r\n* Search engine ping. The plugin notifies search engines each time your sitemap is updated.\r\n\r\nh2. Installation\r\n\r\nInstallation is done with the script/plugin script:\r\n\r\n<pre>\r\n  <code>\r\n  $ script/plugin install  git://github.com/christianhellsten/sitemap-generator.git\r\n  </code>\r\n</pre>\r\n\r\nAfter installing the plugin you need to:\r\n\r\n* Configure the plugin (config/sitemap.yml)\r\n* Include a call to the *sitemap* method from each model you want to include in the sitemap\r\n\r\nh2. Configuring the plugin\r\n\r\nA configuration file (config/sitemap.yml) is automatically created by the installation script. \r\n\r\nBelow is a sample configuration file, which also contains the default values for the models:\r\n\r\n<pre>\r\n  <code>\r\n  domain: aktagon.com\r\n\r\n  limit: 5000\r\n  priority: 1\r\n  change_frequency: weekly\r\n  ping: true\r\n  </code>\r\n</pre>\r\n\r\nThe options:\r\n\r\n* domain: before using the sitemap generator you need to tell the plugin the domain where your application is deployed. This is because the sitemap must contain the full URL, not just the URI, of all resources.\r\n* limit: specifies how many model instances you want to include in the sitemap\r\n* priority: specifies the priority of the model\r\n* change_frequency: specifies how often the data changes: always, hourly, daily, weekly, monthly, yearly or never\r\n* ping: specifies whether the plugin should ping search engines or not\r\n\r\nYou can find a more comprehensive description of these concepts on the \"Wikipedia page on sitemaps\":http://en.wikipedia.org/wiki/Sitemaps\r\n\r\nh2. Configuring ActiveRecord models\r\n\r\nEach model you want included in the sitemap must call the *sitemap(options)* method.\r\n\r\n<pre>\r\n  <code>\r\n  class Post < ActiveRecord::Base\r\n    sitemap \r\n  end\r\n  </code>\r\n</pre>\r\n\r\nThe default options for each model are taken from the configuration file (config/sitemap.yml). You'll most likely want each model to have a different priority and change_frequency. The plugin allows you to override the default options as shown in this example:\r\n\r\n<pre>\r\n  <code>\r\n  class Post < ActiveRecord::Base\r\n    sitemap :change_frequency => :weekly, :limit => 1000, :priority => 0.5\r\n  end\r\n  </code>\r\n</pre>\r\n\r\nh2. Order\r\n\r\nThe plugin will automatically order the data using the most appropriate Rails magic column, which is the first of the following columns it can find: updated_at, updated_on, created_at or created_on.\r\n\r\nYou can override this behavior when calling the sitemap method:\r\n\r\n<pre>\r\n  <code>\r\n  class Post < ActiveRecord::Base\r\n    sitemap :order => 'points DESC'\r\n  end\r\n  </code>\r\n</pre>\r\n\r\nh2. Custom sitemaps\r\n\r\nCustom sitemaps can be generated by passing a block to the sitemap method. A builder instance representing the sitemap is passed to this block. Inside the block you can do whatever is needed:\r\n\r\n<pre>\r\n  <code>\r\n\r\n  sitemap do |xml|\r\n\r\n    Post.all.each do |place|\r\n      xml.url do\r\n        xml.loc \"http://#{SitemapGenerator::Options.domain}/#{post.to_param}'\"\r\n\r\n        xml.lastmod SitemapGenerator::Helpers.instance.w3c_date(post.updated_at)\r\n        xml.changefreq 'weekly'\r\n        xml.priority '1'\r\n      end  \r\n    end  \r\n\r\n  end\r\n\r\n  </code>\r\n</pre>\r\n\r\n\r\nh2. Usage\r\n\r\nAfter configuring the plugin you can generate the sitemap with rake:\r\n\r\n<pre>\r\n  <code>\r\n  $ rake sitemap:generate\r\n  </code>\r\n</pre>\r\n\r\nYou can also generate the sitemap programatically like this:\r\n\r\n<pre>\r\n  <code>\r\n  SitemapGenerator::Generator.run\r\n  </code>\r\n</pre>\r\n\r\nh2. Scheduled updates with cron\r\n\r\nOpen the cron configuration with the following command:\r\n\r\n<pre>\r\n<code>\r\n$ sudo crontab -e\r\n</code>\r\n</pre>\r\n\r\nAdd the following:\r\n\r\n<pre>\r\n<code>\r\nPATH=/usr/local/bin:/usr/bin:/bin\r\nSHELL=/bin/bash\r\n\r\n# m h  dom mon dow   command\r\n\r\n# Update the sitemap every day at 24:00\r\n\r\n00 00 * * * cd /var/www/xxx/current && RAILS_ENV=production rake sitemap:generate\r\n</code>\r\n</pre>\r\n\r\nh2. Todo\r\n\r\n* Support for \"video and image sitemaps\":http://www.google.com/support/webmasters/bin/topic.py?hl=en&topic=20986\r\n* \"Sitemap validation\":http://www.google.com/support/webmasters/bin/answer.py?hl=en&answer=35738\r\n* gzip sitemap\r\n* gem\r\n* Refactor code\r\n\r\nh2. Author\r\n\r\n\"Christian Hellsten\":http://christianhellsten.com (\"Aktagon Ltd.\":http://aktagon.com)\r\n\r\nh2. Contributors\r\n\r\n\"Dan Hawkins\":http://github.com/danhawkins/\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}